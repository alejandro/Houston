<!doctype html>
<html>
  <head>
  <title>Houston :: {title}</title>
  <style>
  @font-face {
    font-family: 'houstonBold';
    src: url('/public/fonts/houstonBold.eot');
    src: url('/public/fonts/houstonBold.eot?#iefix') format('embedded-opentype'),
         url('/public/fonts/houstonBold.woff') format('woff'),
         url('/public/fonts/houstonBold.ttf') format('truetype'),
         url('/public/fonts/houstonBold.svg#ProximaNovaBold') format('svg');
    font-weight: normal;
    font-style: normal;
  }

  @font-face {
      font-family: 'houstonRegular';
      src: url('/public/fonts/houstonRegular.eot');
      src: url('/public/fonts/houstonRegular.eot?#iefix') format('embedded-opentype'),
           url('/public/fonts/houstonRegular.woff') format('woff'),
           url('/public/fonts/houstonRegular.ttf') format('truetype'),
           url('/public/fonts/houstonRegular.svg#ProximaNovaRegular') format('svg');
      font-weight: normal;
      font-style: normal;

  }
  body,html {
    margin           : 0;
    font-family      :'houstonRegular';
    background-color : whitesmoke;
  }
  header {
    text-align         : center;
    height             : 30px;
    background         : #222;
    color              : white;
    font-family        : 'houstonBold';
    font-size          : 24px;
    padding-top        : 14px;
    -webkit-box-shadow : 2px 2px #ccc,-2px -2px #ccc;
    -moz-box-shadow    : 2px 2px #ccc,-2px -2px #ccc;
    box-shadow         : 2px 2px #ccc,-2px -2px #ccc;
  }
  a {text-decoration:none;}
  ul {
    list-style:none;
    -moz-column-count:3; -webkit-column-count:3; column-count:3;
    -moz-column-gap:2em; -webkit-column-gap:2em; column-gap:2em;
  }
  .dir:before{
    content : url('/public/dir.png');
  }
  .return:before {
    content : url('/public/return.png'); 
  }
  li:before {
    content       : url('/public/default.png'); 
    padding-right : 5px;
  }
  footer {
    text-align : center;
  }
  </style>
  <script type="text/javascript">
    function onload(){
      var path = window.location.pathname.split('/')
      path.pop();
      if (path.length ==1) path = ['/'];
      else path = path.join('/')
      document.getElementById('return').setAttribute('href',path)
      var ul     = document.getElementsByTagName('ul')[0]
        , loop   = ul.childNodes.length
        , clases = []
        ;

      while (--loop){
        var li      = ul.childNodes.item(loop)
          , classEl = li.classList[0]
          ;

        clases.push(classEl)
      }
      var filt= clases.filter(function(v,i,a){
        return a.lastIndexOf(v) ===i
      })
      filt.forEach(function(classEl){
        var stylesheet = document.getElementsByTagName('style')[0]
          , rule = '.'+classEl+':before{content: url(\'/public/'+classEl+'.png\') !important;}';
        stylesheet.sheet.insertRule(rule,stylesheet.sheet.cssRules.length);
      });
      return true;
    }
  </script>
  </head>
<body onload="onload()">
  <header>Houston :: {title}</header>
  <div id="wrapper">
    <div>{list}</div>
  <div>
  <footer>
    <p> Houston {hversion} running on node.js {version}</p>
  </footer>
</body>
</html>